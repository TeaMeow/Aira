# 艾拉

#### 功能

可切換錯誤的事件模式 (可變動模式如下)
 
 - 錯誤只回傳 False
 - 錯誤回傳包含錯誤訊息

#使用方法

```php
Aira::FUNCTION() //靜態類別
```

## 錯誤監聽器

監聽器預設的行為為 `exit()`

```php
Aira::SetHandler('函式名稱');
```
#### 函數預設參數
 - `$Msg` - 錯誤訊息
 - `$ErrorCode` - 錯誤代碼
 - 
發動時機: 錯誤後呼叫

```
HANDLER($Msg, $ErrorCode);
```

## 新增自訂錯誤型態

自定錯誤型態包含兩個參數
 - `$Msg` - 錯誤訊息
 - `$ErrorCode` - 錯誤代碼

範例:

```php
Aira::ErrorCode(['錯誤_代碼'    => '錯誤訊息。',
                 'LOGIN_FAILED' => '嘿，你輸入錯的密碼了。']);
```

## 置入錯誤監聽事件

沒有錯誤，預設回傳 False

```php
return Aira::Add('錯誤_代碼');
```

舉例來說，如果你正在做一個登入系統，你應該這樣用它：

```php
if(!$Login)
    return Aira::Add('LOGIN_FAILED');
```

## 函式回傳值

`Aira::Add()` 被呼叫後會有以下狀況:

1. **回傳 False**。
2. 結束並且輸出 **最後一次的錯誤訊息**。
3. 結束並輸出錯誤訊息如果 **接下來** 有錯誤發生。

#### 三種錯誤模式建立

```php

/** 離開並且輸出錯誤訊息，在錯誤發生在這段程式碼「之後」。 */
Aira::EndFrom();

/** 離開並且輸出錯誤訊息，在錯誤發生在這段程式碼「以前」。 */
Aira::EndHere();

/** 繼續程式，無論錯誤發生。（此時只會回傳 FALSE。） */
Aira::Alive();
```

## 範例

讓我們來看看你該怎麼使用，和什麼時候使用它。

一個登入系統會是很好的例子。

#### 1. 先新增錯誤代碼 
```php
Aira::ErrorCode(['LOGIN_FAILED' => '登入失敗，帳號或密碼錯誤。']);
```

#### 2. 置入進狀況中
```php
function Login($Usr, $Pw)
{
    /** 呼叫艾拉如果登入失敗 */
    if($Failed)
      return Aira::Add('LOGIN_FAILED');
}
```

##### 其他方案

直接登入無論是否登入失敗 

```php
$User->Login($Username, $Password);
```
錯誤訊息只有在使用者登入失敗時才會出現

```php
Aira::EndHere();
```
沒有任何事情會發生，如果使用者成功登入
```php
exit('Logged In successfully!');
```

## 其他

##### 你可以偵測錯誤代碼像這樣。

```php
Aira::Equals('錯誤_代碼');
```

舉例來說你想知道最後一個錯誤是 LOGIN_FAILED 或是其他東西。

```php
if(Aira::Equals('LOGIN_FAILED'))
{
    exit('你登入失敗了對吧？');
}
elseif(Aira::Equals('LOGIN_NOTHING'))
{
    exit('你想幹嘛？');
}
```
